<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>js高级应用——拖拽特效</title>
	<style type="text/css"> 
	#div1{ width:100px; height:100px;background:red;position:absolute;}
	
	</style>
	<script type="text/javascript"> 
	 window.onload=function()
	 {
	    var oDiv=document.getElementById('div1');
		
		var disX=0;
		var disY=0;
		
		oDiv.onmousedown=function(ev)
		{
		   var oEvent=ev||event;
		   disX=oEvent.clientX-oDiv.offsetLeft;
		   disY=oEvent.clientY-oDiv.offsetTop;
		   
		   if(oDiv.setCapture)
		   {//IE
			   oDiv.onmousemove=mouseMove;
			   
			   oDiv.onmouseup=mouseUp;
							   
			   oDiv.setCapture();//事件捕获
		   }else{
		   //chrome、firefox
		    oDiv.onmousemove=mouseMove;
			   
			 oDiv.onmouseup=mouseUp;
		   }
		   
		   function mouseMove(ev)
			   {
				  var oEvent=ev||event;
				  var l=oEvent.clientX-disX;
				  var t=oEvent.clientY-disY;
						  
				  oDiv.style.left=l+'px';
				  oDiv.style.top=t+'px';
			   };
			   
		   function mouseUp()
		   {
			 this.onmousemove=null;
			 this.onmouseup=null;
			 if(oDiv.releaseCapture){
				oDiv.releaseCapture();//释放捕获
			 }
		   };  
		   return false;//Chrome、Firefox、IE9
		   
		   //IE（6-8）拖动有问题
		   
		   
		};
	 };
	</script>
</head>
<body>
   aaaaaaaaaaaaaaaaa
	<div id="div1">bbbbbbbbbbbb</div>
 cccccccccccccccccccccccc
</body>
</html>